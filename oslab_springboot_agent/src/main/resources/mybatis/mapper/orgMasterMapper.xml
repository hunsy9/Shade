<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.oslab.agent.repository.organization.mapper.OrgMasterMapper">

    <insert id="registerOrganizationToPlatform" parameterType="com.oslab.agent.model.transfer.orgDto.RegOrgReqDto">
        INSERT INTO organization_master VALUES (0, #{org_name}, #{org_admin_id})
    </insert>

    <insert id="addOrganizationToUser" parameterType="com.oslab.agent.model.transfer.orgDto.OrgReqDto">
        INSERT INTO user_organization VALUES (#{user_id}, #{org_id})
    </insert>

    <delete id="deleteOrganizationFromPlatform" parameterType="com.oslab.agent.model.transfer.orgDto.RegOrgReqDto">
        DELETE FROM organization_master WHERE org_name LIKE #{org_name}
    </delete>

    <delete id="deleteOrganizationFromUser" parameterType="com.oslab.agent.model.transfer.orgDto.OrgReqDto">
        DELETE FROM user_organization WHERE user_id LIKE #{user_id} AND org_id LIKE #{org_id}
    </delete>
</mapper>